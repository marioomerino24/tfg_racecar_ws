# Frecuencia de control
rate_hz: 40

# Tópicos de entrada (salidas del selector)
delta_topic: "/pure_pursuit_target_selector/delta"     # std_msgs/Float64 (rad)
kappa_topic: "/pure_pursuit_target_selector/kappa"     # std_msgs/Float64 (1/m)
ld_topic:    "/pure_pursuit_target_selector/Ld"        # std_msgs/Float64 (m)

# Odometría para medir v
odom_topic: "/vesc/odom"                               # nav_msgs/Odometry

# Salida
ackermann_topic: "/navigation/ackermann_cmd"           # ackermann_msgs/AckermannDriveStamped

# Geometría vehículo (para coherencia/saturación)
wheelbase_L: 0.325           # [m]
delta_max_deg: 28.0          # [deg]

# Límites longitudinales
v_max: 3.0                   # [m/s]
v_min: 0.2                   # [m/s]
a_long_acc_max: 1.2          # [m/s^2] rampa subida
a_long_dec_max: 2.0          # [m/s^2] rampa bajada (frenada)

# Límite por curvatura
a_lat_max: 4.0               # [m/s^2]
eps_kappa: 0.05              # [1/m] regularización

# Límite por time-headway usando Ld
use_headway: true
T_h: 0.7                     # [s]

# Suavizado opcional del comando de velocidad (1er orden)
use_lowpass: true
tau_v_ref: 0.2               # [s]  (si 0 → sin filtro)

# Si true, copia v medido a ackermann.drive.speed cuando el target es < v_min (idle)
pass_through_when_idle: false
